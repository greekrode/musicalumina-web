# Musica Lumina ‚Äì Web Platform

A modern, full-stack web application for **Musica Lumina** ‚Äì an international music competition & education platform. The website provides a public facing portal for competitors and audiences while giving organisers a secure admin dashboard to manage events, categories and registrations.

---

## ‚ú® Features

- **Event catalogue** ‚Äì browse upcoming, current & past competitions, festivals, masterclasses and group classes.
- **Multilingual UI** ‚Äì English & Bahasa Indonesia localisation powered by a lightweight i18n utility.
- **Online registration** ‚Äì responsive, step-by-step forms with document uploads & payment proof capture.
- **Dynamic jury panel & results** ‚Äì display adjudicator bios and publish results once released.
- **Admin dashboard** ‚Äì protected area to create events, CRUD categories/sub-categories, review submissions and export data.
- **Real-time database** ‚Äì built on Supabase with row-level-security and storage policies.
- **Email workflow** ‚Äì Edge Functions send confirmation / contact messages via Lark.
- **PWA-ready** ‚Äì fast loading, offline-friendly build generated by Vite.

---

## üõ† Tech Stack

| Layer | Technology |
|-------|------------|
| Front-end | React 18 ‚Ä¢ TypeScript ‚Ä¢ Vite ‚Ä¢ React-Router-DOM |
| Styling  | Tailwind CSS ‚Ä¢ Radix UI primitives ‚Ä¢ CSS Modules |
| State/Data | Supabase JS v2 ‚Ä¢ React-Query style hooks (custom) |
| Auth (optional) | Clerk (email / social login) |
| Infrastructure | Vercel (preview & prod), Supabase Postgres & Storage |
| Tooling | ESLint ‚Ä¢ Prettier ‚Ä¢ Husky ‚Ä¢ pnpm / npm ‚Ä¢ Vitest |

---

## üöÄ Getting Started

### Prerequisites

- Node >= 18
- A Supabase project (free tier is fine) with the SQL migrations in `supabase/migrations` applied.
- (Optional) A [Clerk](https://clerk.dev/) application if you wish to enable authentication.

### 1. Clone & Install

```bash
# SSH
$ git clone git@github.com:greekrode/musicalumina-web.git && cd musicalumina-web

# Install packages (npm, pnpm or yarn)
$ npm install
```

### 2. Environment Variables

Create a `.env.local` file at the project root:

```bash
# Supabase
VITE_SUPABASE_URL=https://<your-project>.supabase.co
VITE_SUPABASE_ANON_KEY=<public-anon-key>

# Clerk (optional)
VITE_CLERK_PUBLISHABLE_KEY=<your-key>

# E-mail / Lark webhook
VITE_LARK_WEBHOOK_URL=<webhook>
```

> ‚ÑπÔ∏è The Edge Functions hosted under `supabase/functions` also read the same values when deployed to Supabase. During local dev they inherit the `.env.local` file.

### 3. Run the dev server

```bash
# Start Vite + Tailwind in watch mode
$ npm run dev
```
Visit `http://localhost:5173` and you should see the landing page.

### 4. Supabase migrations (optional)

If you have the Supabase CLI installed you can apply the SQL migrations locally:

```bash
$ supabase db reset
$ supabase db diff
$ supabase start
```

---

## üóÇ Project Structure (abridged)

```bash
src/
  assets/              # static images & backgrounds
  components/          # shared & feature-specific React components
  hooks/               # reusable hooks (Supabase data, media query, pre-loader)
  lib/                 # util functions, translations, Supabase client, e-mail etc.
  pages/               # React-Router route components
  supabase/            # Edge functions & migrations
```

---

## üì¶ NPM Scripts

| Command | Description |
|---------|-------------|
| `npm run dev` | Start local dev server |
| `npm run build` | Production build (outputs to `dist/`) |
| `npm run preview` | Preview production build locally |
| `npm run lint` | Run ESLint on all source files |

---

## üñ• Deployment

The project is configured for **Vercel** out-of-the-box (`vercel.json`). Push to `main` to trigger a production deployment or open a pull request for previews.

On Vercel, set the same environment variables as in `.env.local` (Supabase, Clerk, Lark, etc.).

---

## ü§ù Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feat/my-feature`)
3. Commit your changes (`git commit -m 'feat: add my feature'`)
4. Push to the branch (`git push origin feat/my-feature`)
5. Open a pull request üìù

---

## üìù License

This repository is licensed under the **MIT License**. See [`LICENSE`](LICENSE) for details.

---

### Acknowledgements

- [Supabase](https://supabase.com/) for the generous open-source tier
- [Radix-UI](https://www.radix-ui.com/) for accessible primitives
- [Tailwind CSS](https://tailwindcss.com/) for rapid styling workflow

> Made with ‚ù§Ô∏è by [@greekrode](https://github.com/greekrode) and the Musica Lumina team